# ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê!

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

**`update_id` —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏ workflow!**

---

## üîç –ü–†–û–ë–õ–ï–ú–ê

1. ‚ùå **Cache –Ω–µ —Ä–∞–±–æ—Ç–∞–ª** - –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
2. ‚ùå **Artifacts –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å** - —Å–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã (–Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å `.`) –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å
3. ‚ùå **Artifacts –Ω–µ –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å** - –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞, –∞ –Ω–µ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Artifacts –≤–º–µ—Å—Ç–æ Cache

**–ü–æ—á–µ–º—É Artifacts:**
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- ‚úÖ –•—Ä–∞–Ω—è—Ç—Å—è 90 –¥–Ω–µ–π
- ‚úÖ –ù–∞–¥—ë–∂–Ω–µ–µ, —á–µ–º cache

### 2. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: `include-hidden-files: true`

**–ü—Ä–æ–±–ª–µ–º–∞:** –§–∞–π–ª—ã `.auto_reply_state.json` –∏ `.answered_messages.json` –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å —Ç–æ—á–∫–∏ (—Å–∫—Ä—ã—Ç—ã–µ), –∏ `upload-artifact` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Ö –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª (`include-hidden-files: false`).

**–†–µ—à–µ–Ω–∏–µ:**
```yaml
- name: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (artifacts)
  uses: actions/upload-artifact@v4
  with:
    include-hidden-files: true  # ‚Üê –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï!
```

### 3. –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ GitHub API

**–ü—Ä–æ–±–ª–µ–º–∞:** `download-artifact` –∑–∞–≥—Ä—É–∂–∞–ª artifacts –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞.

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ GitHub API:
```yaml
- name: –ü–æ–ª—É—á–µ–Ω–∏–µ ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
  run: |
    WORKFLOW_ID=$(curl -s -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
      "https://api.github.com/repos/${{ github.repository }}/actions/workflows/auto-reply.yml" | \
      jq -r '.id')
    
    LAST_RUN=$(curl -s -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
      "https://api.github.com/repos/${{ github.repository }}/actions/workflows/$WORKFLOW_ID/runs?per_page=2&status=success" | \
      jq -r '.workflow_runs[] | select(.id != ${{ github.run_id }}) | .id' | head -1)

- name: –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è (artifacts)
  uses: actions/download-artifact@v4
  with:
    run-id: ${{ steps.get-last-run.outputs.run_id }}
```

### 4. –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ state

**–ü—Ä–æ–±–ª–µ–º–∞:** Artifacts –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ `./state/`, –∞ —Å–∫—Ä–∏–ø—Ç –∏—â–µ—Ç —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ.

**–†–µ—à–µ–Ω–∏–µ:** –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ `./state/` –≤ –∫–æ—Ä–µ–Ω—å:
```yaml
- name: –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  run: |
    if [ -f "./state/.auto_reply_state.json" ]; then
      cp "./state/.auto_reply_state.json" ".auto_reply_state.json"
    fi
```

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (20753679749):
- ‚úÖ `update_id`: 0 (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫)
- ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ: `527946497`
- ‚úÖ Artifacts —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã: `auto-reply-state` (336 –±–∞–π—Ç)

### –í—Ç–æ—Ä–æ–π –∑–∞–ø—É—Å–∫ (20753709738):
- ‚úÖ Artifacts –∑–∞–≥—Ä—É–∂–µ–Ω—ã: "Artifact download completed successfully"
- ‚úÖ –§–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã: "‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω .auto_reply_state.json"
- ‚úÖ **`update_id` –∑–∞–≥—Ä—É–∂–µ–Ω: `527946497`** (–Ω–µ 0!)
- ‚úÖ **–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏!**

---

## ‚úÖ –ò–¢–û–ì

**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!**

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞:
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç `update_id` –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- ‚úÖ –ù–µ —Ç–µ—Ä—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –∏ –Ω–∞–¥—ë–∂–Ω–æ

---

## üîß –ö–õ–Æ–ß–ï–í–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

1. ‚úÖ –ó–∞–º–µ–Ω—ë–Ω cache –Ω–∞ artifacts
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `include-hidden-files: true`
3. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ GitHub API
4. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ `./state/` –≤ –∫–æ—Ä–µ–Ω—å
5. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û!**

**–î–∞—Ç–∞ —Ä–µ—à–µ–Ω–∏—è:** 2026-01-06

