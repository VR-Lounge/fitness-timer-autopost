# ‚úÖ –†–ï–®–ï–ù–ò–ï –ù–ê–ô–î–ï–ù–û –ò –†–ï–ê–õ–ò–ó–û–í–ê–ù–û!

## üéØ –ü–†–û–ë–õ–ï–ú–ê

`update_id` –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏ workflow, –ø–æ—Ç–æ–º—É —á—Ç–æ:
1. ‚ùå **Cache –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω** –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
2. ‚ùå **download-artifact** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–≥—Ä—É–∂–∞–ª artifacts –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞, –∞ –Ω–µ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Artifacts –≤–º–µ—Å—Ç–æ Cache

**–ü–æ—á–µ–º—É Artifacts, –∞ –Ω–µ Cache:**
- ‚úÖ Artifacts —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- ‚úÖ Cache –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª—ë–Ω –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω
- ‚úÖ Artifacts —Ö—Ä–∞–Ω—è—Ç—Å—è 90 –¥–Ω–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** `download-artifact` –∑–∞–≥—Ä—É–∂–∞–ª artifacts –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GitHub API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:

```yaml
- name: –ü–æ–ª—É—á–µ–Ω–∏–µ ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
  id: get-last-run
  run: |
    WORKFLOW_ID=$(curl -s -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
      "https://api.github.com/repos/${{ github.repository }}/actions/workflows/auto-reply.yml" | \
      jq -r '.id')
    
    LAST_RUN=$(curl -s -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
      "https://api.github.com/repos/${{ github.repository }}/actions/workflows/$WORKFLOW_ID/runs?per_page=2&status=success" | \
      jq -r '.workflow_runs[] | select(.id != ${{ github.run_id }}) | .id' | head -1)
    
    echo "run_id=$LAST_RUN" >> $GITHUB_OUTPUT

- name: –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è (artifacts)
  uses: actions/download-artifact@v4
  if: steps.get-last-run.outputs.run_id != ''
  with:
    name: auto-reply-state
    path: .
    github-token: ${{ secrets.GITHUB_TOKEN }}
    run-id: ${{ steps.get-last-run.outputs.run_id }}
  continue-on-error: true
```

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (20753023864):
- ‚úÖ –ù–∞–π–¥–µ–Ω –ø—Ä–µ–¥—ã–¥—É—â–∏–π —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫: 20753053001
- ‚úÖ Artifacts –∑–∞–≥—Ä—É–∂–µ–Ω—ã
- ‚úÖ –§–∞–π–ª—ã –Ω–∞–π–¥–µ–Ω—ã
- ‚úÖ `update_id` –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞

### –í—Ç–æ—Ä–æ–π –∑–∞–ø—É—Å–∫ (20753344778):
- ‚úÖ –ù–∞–π–¥–µ–Ω –ø—Ä–µ–¥—ã–¥—É—â–∏–π —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫: 20753053001
- ‚úÖ Artifacts –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞
- ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏

---

## ‚úÖ –ò–¢–û–ì

**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!** 

–¢–µ–ø–µ—Ä—å:
- ‚úÖ `update_id` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- ‚úÖ Artifacts –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### Workflow —à–∞–≥–∏:

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞** - —á–µ—Ä–µ–∑ GitHub API
2. **–ó–∞–≥—Ä—É–∑–∫–∞ artifacts** - –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤** - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º** - —É–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã
6. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ artifacts** - –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞

### –§–∞–π–ª—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è:
- `.auto_reply_state.json` - –ø–æ—Å–ª–µ–¥–Ω–∏–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π `update_id`
- `.answered_messages.json` - —Å–ø–∏—Å–æ–∫ —É–∂–µ –æ—Ç–≤–µ—á–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û!**

